(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d4ed7762"],{"854d":function(t,e,n){},d6fa:function(t,e,n){"use strict";n("854d")},ef92:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"app"},[n("div",{staticClass:"code_now",on:{click:t.get_code}},[t._v(" 当前验证码(点击获取)："+t._s(t.code)+" ")]),n("div",[t._v(" 任务状态（0-任务停止 1-执行中）: "+t._s(t.switc)+" ")]),n("el-button",{attrs:{type:"primary"},on:{click:t.flush_code}},[t._v("刷新验证码")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.flg=!0}}},[t._v("销假")]),n("el-button",{attrs:{type:"primary"},on:{click:function(e){t.flg=!1}}},[t._v("今日缺勤")]),n("el-button",{on:{click:function(e){return t.switchknowing()}}},[t._v("切换任务状态")]),n("a",{attrs:{href:t.excel_url}},[n("el-button",[t._v("导出Excel")])],1),n("el-button",{on:{click:function(e){return t.flush()}}},[t._v(" 重置任务")]),n("el-table",{staticStyle:{width:"90%",margin:"auto"},attrs:{data:t.tableData,border:""}},[n("el-table-column",{attrs:{prop:"student_name",label:"姓名",width:"120"}}),n("el-table-column",{attrs:{prop:"student",label:"学号",width:"120"}}),n("el-table-column",{attrs:{prop:"classname",label:"班级",width:"120"}}),n("el-table-column",{attrs:{prop:"room_name",label:"寝室",width:"120"}}),n("el-table-column",{attrs:{prop:"reason",label:"原因",width:"120"}}),t.flg?[n("el-table-column",{attrs:{prop:"worker_name",label:"执行人",width:"120"}})]:t._e(),t.flg?[n("el-table-column",{attrs:{prop:"created_time",label:"执行时间",width:"120"}})]:t._e(),t.flg?[n("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{directives:[{name:"show",rawName:"v-show",value:e.row.flg,expression:"scope.row.flg"}],attrs:{width:"120",type:"primary"},on:{click:function(n){return t.pintle(e.$index,e.row)}}},[t._v(" 销假")])]}}],null,!1,1397546501)})]:t._e()],2)],1)},c=[],o=(n("159b"),n("22ad")),i={data:function(){return{excel_url:"",switc:"",code:"*****",tableData:[],dialogTableVisible:!0,flg:!0,formLabelWidth:"120px"}},created:function(){this.get_recordsearch(),this.get_switchknowing(),this.excel_url="http://47.102.215.230:8000/api/life/exportexcel"},methods:{get_code:function(){var t=this;this.$api.life.idcode().then((function(e){t.$data.code=e.data})).catch((function(){}))},flush_code:function(){var t=this;this.$store.dispatch("life/getIdcode").then((function(e){t.$data.code=e.data})).catch((function(){}))},get_recordsearch:function(){var t=this;this.$store.dispatch("life/recordsearch").then((function(e){e.data.forEach((function(t,e){t["flg"]=!0,console.log(t)})),t.$data.tableData=e.data})).catch((function(){}))},pintle:function(t,e){var n=this;this.$confirm("此操作将对该同学销假,并且记录您的信息 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.flg=!1,n.$store.dispatch("life/studentleak",{record_id:e.id}).then((function(t){2e3===t.code&&n.$message({message:t.message,type:"success"}),console.log(111,t)}))})).catch((function(){n.$message({type:"info",message:"已取消"})}))},flush:function(){var t=this;this.$confirm("此操作将对当前查寝记录初始化 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){o["e"]().then((function(e){t.$message({message:e.message,type:"success"}),t.$store.dispatch("life/getIdcode",{flag:"1"}).then((function(e){t.$data.code=e.data})).catch((function(){}))}))})).catch((function(){t.$message({type:"info",message:"已取消"})}))},get_switchknowing:function(){var t=this;this.$store.dispatch("life/get_switchknowing").then((function(e){t.$data.switc=e.data,console.log(111,e)}))},switchknowing:function(){var t=this;this.$store.dispatch("life/switchknowing").then((function(e){t.$data.switc=e.data,console.log(111,e)}))},exportexcel:function(){var t=this;o["b"]().then((function(e){t.$message({message:e.message,type:"success"})}))}}},s=i,l=(n("d6fa"),n("2877")),r=Object(l["a"])(s,a,c,!1,null,"011faa4e",null);e["default"]=r.exports}}]);